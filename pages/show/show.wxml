<view class="card" style="background-image: url('{{photo}}');"></view>

<!-- top card -->
<view class="top-block">
  <image class="avatar" src="{{event.host_photo}}"></image>

  <view class="id">
    <text>Host: {{event.host_name}}</text>
  </view>

  <view class="event-name">
    <view>{{event.activity_type}} @ {{event.location}}</view>
  </view>
</view>

<!-- middle details until bottom -->
<view class="bot-block">

  <view class="time">
    <text>Date: {{event.date}}</text>
  </view>

  <view class="time">
    <text>Time: {{event.start_time}} - {{event.end_time}}</text>
  </view>

  <view class="capacity">
    <text>Spots: {{event.spots_filled}} / {{event.capacity}}</text>
  </view>

  <view class="description">
    <text>{{event.description}}</text>
  </view>

  <view class="map-container">
    <map longitude="{{lg}}" latitude="{{lt}}" scale="{{sc}}" style="width: 100%; height: 25vh;" markers="{{mk}}"></map>
  </view>

  <!-- check whether the event has already been booked or is full -->
  <view wx-if="{{(isNew) && (available)}}">
    <view class="btn">
      <button form-type="submit" bindtap="bindSubmit">Count me in!</button>
    </view>
  </view>

  <view wx-if="{{!(isNew)}}">
    <text>You have already booked this event</text>
  </view>

  <view wx-if="{{!(available)}}">
    <text>This event is full</text>
  </view>

</view>
