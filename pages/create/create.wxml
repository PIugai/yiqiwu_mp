<!-- form to make a new event starts here-->
<!-- <view class="h2-header">Create new</view> -->
<view class="navbar">
<CustomNav profilePic="/image/logo.png" />
</view>




<view class="form-container">
  
  <form bindsubmit="bindSubmit">
  <view class='box'>

    <!-- choose activity -->

    <view class="text-area-wrap">
      <picker bindchange="bindPickerChange" value="{{array[index]}}" range="{{array}}" name="activity_type">
      Choose activity: {{array[index]}}
      </picker>
    </view>
   
 
    <!-- describe*** -->
    <view class="text-area-wrap">
      <textarea value="{{description}}" placeholder="Describe activity:" class="" name="description"/>
    </view>
    
    <!-- max participants*** -->
    <view class="text-area-wrap">
      <textarea value="{{capacity}}" placeholder="Max participants:" name="capacity" />
    </view>
    

    <!-- date -->
    <picker mode="date" value="{{date}}" start="2019-04-19" end="2025-01-01" bindchange="bindDateChange" name="date_only">
      <view class=" text-area-wrap ">
        Select date: {{date}}
      </view>
    </picker>
    

    <!-- start time -->
    <picker mode="time" value="{{time}}" start="05:00" end="22:00" bindchange="bindStartTimeChange" name="start_time_only">
      <view class=" text-area-wrap ">
        Start time: {{start_time_only}}
      </view>
    </picker>
    

    <!-- end time -->
    <picker mode="time" value="{{time}}" start="05:00" end="22:00" bindchange="bindEndTimeChange" name="end_time_only">
      <view class=" text-area-wrap ">
        End time: {{end_time_only}}
      </view>
    </picker>
    

    <!-- location -->
    <view class="text-area-wrap" bindtap="bindOnTouchStart" >
      <text>Location: {{name}}</text>
      <textarea value="{{name}}" name="location" style="font-size:1px;"></textarea>
    </view>
    

    <button  style="margin-top:10px;" type="primary" form-type="submit" loading="{{loading}}">Submit</button>
    </view>
    </form>

  </view>

<!-- cards for events starts here -->

<view class="card-container">
  <view wx:for="{{events}}" wx:for-item="event" wx:key="event.id">
    <view class="global-card" style='background-image: linear-gradient(rgba(0,0,0,0.4), rgba(0,0,0,0.1)), url({{event.photo}})'>
      <view class="card-mid-block">
        <view class="card-info">
          <image class="card-icon" src="/image/calendar.png"></image>
          <text> {{event.date}}</text>
        </view>
        <view class="card-info">
          <image class="card-icon" src="/image/clock.png"></image>
          <text>{{event.start_time}}</text>
        </view>
        <view class="card-info">
          <image class="card-icon" src="/image/work-team.png"></image>
          <text>{{event.spots_filled}} / {{event.capacity}}</text>
        </view>
      </view>
      <view class="global-card-text-activity">{{event.activity_type}}</view>
      <view class="global-card-location">@{{event.location}}</view>
      <image src="/image/trash.png" bindtap="deleteEvent" data-event="{{event.id}}" class="trash"></image>
    </view>
  </view>
  <view wx:if="{{events.length===0}}" class="assist-text">After you create an activity, it will appear here</view>
</view>